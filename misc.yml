---

# Gnome Settings
- name: set gsettings
  become: false
  command: "gsettings set {{ item }}"
  with_items: "{{ gnome_settings }}"
  register: result
  failed_when:
    - result.rc != 0
  vars:
    cond: "{{ set_gsettings }}"
  when: cond


# Firefox Addons
- name: "open firefox addon pages"
  become: false
  command: "firefox --new-window https://addons.mozilla.org/en-US/firefox/addon/{{ item }}/"
  with_items: "{{ firefox_addons }}"
  register: result
  failed_when:
    - result.rc != 0
  vars:
    cond: "{{ firefox_enable }}"
  when: cond

- name: remove fish welcome message
  replace:
    path: "~/.config/fish/fish_variables"
    after: 'fish_greeting:'
    replace: ''